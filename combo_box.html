<html lang="en-GB"><head><meta charset="utf-8"><title>Combo box</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/react-combo-boxes/styles.89b7e11e.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=default%2Ces2018%2Ces2015%2Ces2016%2Ces2017%2Ces2019%2CNodeList.prototype.forEach" crossorigin="anonymous"></script></head><body><nav><div>React combo boxes</div><details><summary>Select</summary><a href="/react-combo-boxes/select.html">About</a><a href="/react-combo-boxes/select/string_options/index.html">String options</a><a href="/react-combo-boxes/select/object_options/index.html">Object options</a><a href="/react-combo-boxes/select/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/select/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/select/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/select/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/select/html_options/index.html">HTML options</a></details><details><summary>Drop down</summary><a href="/react-combo-boxes/drop_down.html">About</a><a href="/react-combo-boxes/drop_down/string_options/index.html">String options</a><a href="/react-combo-boxes/drop_down/object_options/index.html">Object options</a><a href="/react-combo-boxes/drop_down/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/drop_down/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/drop_down/disabled/index.html">Disabled drop down</a><a href="/react-combo-boxes/drop_down/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/drop_down/html_options/index.html">HTML options</a><a href="/react-combo-boxes/drop_down/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/drop_down/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/drop_down/aria_1_2_groups/index.html">With ARIA 1.2 groups</a><details><summary>Edge cases</summary><a href="/react-combo-boxes/drop_down/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/drop_down/no_options/index.html">No options</a><a href="/react-combo-boxes/drop_down/all_disabled_options/index.html">All disabled options</a></details></details><details><summary>Combo box</summary><a>About</a><a href="/react-combo-boxes/combo_box/string_options/index.html">String options</a><a href="/react-combo-boxes/combo_box/object_options/index.html">Object options</a><a href="/react-combo-boxes/combo_box/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/combo_box/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/combo_box/html_options/index.html">HTML options</a><a href="/react-combo-boxes/combo_box/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/combo_box/without_autocomplete/index.html">Without autocomplete</a><a href="/react-combo-boxes/combo_box/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/combo_box/inline_autocomplete/index.html">With inline autocomplete</a><a href="/react-combo-boxes/combo_box/aria_1_0/index.html">ARIA 1.0</a><a href="/react-combo-boxes/combo_box/aria_1_1/index.html">ARIA 1.1</a><a href="/react-combo-boxes/combo_box/aria_1_2_groups/index.html">ARIA 1.2 groups</a><a href="/react-combo-boxes/combo_box/listbox_footer/index.html">Listbox footer</a><details><summary>Searches</summary><a href="/react-combo-boxes/searchers.html">About</a><a href="/react-combo-boxes/combo_box/async_search/index.html">Async search</a><a href="/react-combo-boxes/combo_box/search_suggestions/index.html">Search suggestions</a><a href="/react-combo-boxes/combo_box/background_autocomplete/index.html">With background autocomplete</a></details><details><summary>Edge cases</summary><a href="/react-combo-boxes/combo_box/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/combo_box/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/combo_box/autoselect_disabled_option/index.html">Disabled option and autoselect</a><a href="/react-combo-boxes/combo_box/search_min_length/index.html">Search min length</a></details></details><details><summary>Table layout</summary><a href="/react-combo-boxes/list_box_table.html">About</a><details><summary>Drop down</summary><a href="/react-combo-boxes/list_box_table/drop_down/index.html">Table</a><a href="/react-combo-boxes/list_box_table/drop_down_headers/index.html">With headers</a><a href="/react-combo-boxes/list_box_table/drop_down_grouped/index.html">Grouped</a></details><details><summary>Combo box</summary><a href="/react-combo-boxes/list_box_table/combo_box/index.html">Table</a><a href="/react-combo-boxes/list_box_table/combo_box_headers/index.html">With headers</a><a href="/react-combo-boxes/list_box_table/combo_box_grouped/index.html">Grouped</a></details></details></nav><script src="/react-combo-boxes/side_collapse.da5ebe24.js"></script><main><h1 id="combobox"><code>&lt;ComboBox&gt;</code></h1>
<p>Creates a searchable drop down, sometimes called a typeahead or autocomplete.</p>
<p>This uses the ARIA 1.2 editable <a href="https://w3c.github.io/aria-practices/#combobox">combo box</a>
design pattern.</p>
<blockquote>
<p>⚠️ <strong>Warning</strong> this pattern can be useful but some users may find it difficult
or confusing to use.</p>
</blockquote>
<p>Combo-boxes like this are used in multiple different ways with many different interaction patterns.
This implementation is mainly intended for finding and picking an item. </p>
<p>This control can also be used to create autocomplete type searches. See some of the examples for how you can do this.
You may also consider using a native <code>&lt;datalist&gt;</code> for this.</p>
<h2 id="usage">Usage</h2>
<pre><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>value<span class="token punctuation">,</span> setValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>onSearch<span class="token punctuation">,</span> filteredOptions<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useTokenSearch</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>ComboBox
  options<span class="token operator">=</span><span class="token punctuation">{</span>filterOptions<span class="token punctuation">}</span>
  value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
  onValue<span class="token operator">=</span><span class="token punctuation">{</span>setValue<span class="token punctuation">}</span>
  onSearch<span class="token operator">=</span><span class="token punctuation">{</span>search<span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">></span></code></pre>
<p>This is a controlled component. You must update <code>value</code> in response to <code>onValue</code> or <code>onChange</code>.</p>
<p>The <code>onSearch</code> function is called with the current search value and should be used to update the options.</p>
<h2 id="props">Props</h2>
<table>
<thead>
<tr>
<th>Prop</th>
<th>Type</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>options</code></td>
<td><code>Array</code></td>
<td>The set of options. <a href="/react-combo-boxes/options.html">See options</a></td>
</tr>
<tr>
<td><code>value</code></td>
<td>Any</td>
<td>The currently selected option</td>
</tr>
<tr>
<td><code>mapOption</code></td>
<td><code>Function</code></td>
<td>Use to map options. <a href="/react-combo-boxes/options.html">See options</a></td>
</tr>
<tr>
<td><code>busy</code></td>
<td><code>Boolean</code> or null</td>
<td>The busy status of the search. See busy</td>
</tr>
<tr>
<td><code>busyDebounce</code></td>
<td><code>Number</code></td>
<td>Debounce busy notifications, defaults to 200</td>
</tr>
<tr>
<td><code>aria-describedby</code></td>
<td><code>string</code></td>
<td>Ids of elements describing the <code>&lt;input&gt;</code></td>
</tr>
<tr>
<td><code>className</code></td>
<td><code>string</code></td>
<td>Class name of the wrapper</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>String</code></td>
<td>id of the component (required)</td>
</tr>
<tr>
<td><code>ref</code></td>
<td>React ref</td>
<td>Will be passed to the <code>&lt;input&gt;</code></td>
</tr>
<tr>
<td><code>notFoundMessage</code></td>
<td><code>String</code></td>
<td>Message to show if the search string has no results.</td>
</tr>
<tr>
<td><code>onBlur</code></td>
<td><code>Function</code></td>
<td>Handler for when the component is blured</td>
</tr>
<tr>
<td><code>onChange</code></td>
<td><code>Function</code></td>
<td>Handler for typing in the input.</td>
</tr>
<tr>
<td><code>onFocus</code></td>
<td><code>Function</code></td>
<td>Handler for when the component is focused</td>
</tr>
<tr>
<td><code>onSearch</code></td>
<td><code>Function</code></td>
<td>Handler for searching. See <a href="/react-combo-boxes/searchers.html">Searchers</a></td>
</tr>
<tr>
<td><code>onLayoutListBox</code></td>
<td><code>Function</code></td>
<td>Handler for custom listbox positioning. See <a href="/react-combo-boxes/on_layout_list_box.html">onLayoutListBox</a></td>
</tr>
<tr>
<td><code>onValue</code></td>
<td><code>Function</code></td>
<td>Handler for when a value is selected</td>
</tr>
<tr>
<td><code>autoselect</code></td>
<td><code>Boolean</code> or <code>&quot;inline&quot;</code></td>
<td>If set the first matching option will be automatically selected</td>
</tr>
<tr>
<td><code>expandOnFocus</code></td>
<td><code>Boolean</code></td>
<td>Show available options when focusing. Defaults to true</td>
</tr>
<tr>
<td><code>findSuggestion</code></td>
<td><code>Function</code></td>
<td>Customise finding the autoselect option</td>
</tr>
<tr>
<td><code>showSelectedLabel</code></td>
<td><code>Boolean</code></td>
<td>When true, the value in the <code>&lt;input&gt;</code> will match the selected label</td>
</tr>
<tr>
<td><code>skipOption</code></td>
<td><code>Function</code></td>
<td>Allows options to be skipped with keyboard navigation</td>
</tr>
<tr>
<td><code>tabAutocomplete</code></td>
<td><code>Boolean</code></td>
<td>When true, pressing tab will select an autocompleted option</td>
</tr>
</tbody></table>
<p>The following properties will be passed directly to the <code>&lt;input&gt;</code>: <code>autoCapitalize</code>, <code>disabled</code>,
<code>inputMode</code>, <code>maxLength</code>, <code>minLength</code>, <code>pattern</code>, <code>placeholder</code>, <code>readOnly</code>, <code>required</code>, <code>size</code> and <code>spellCheck</code>.</p>
<p>Additional props can be used to customise the component. See customisation.</p>
<h3 id="busy">Busy</h3>
<p>If <code>busy</code> is set to <code>true</code> this sets <code>aria-busy</code> to <code>&quot;true&quot;</code>. If <code>false</code> it sets it to <code>&quot;false&quot;</code>.</p>
<p>If <code>null</code> this also sets it to <code>false</code> to tells the component the search was not run. This prevents the not found message showing.</p>
<p>Setting <code>aria-busy</code> is debounced to prevent some screen-readers constantly reading &quot;loaded&quot;, you can adjust the debounce.</p>
<h2 id="customisation">Customisation</h2>
<p>A number of hooks are provided to customise the appearance of the component.</p>
<p>The <code>nameProps</code> props allow you to add your own attributes to each part, potentially overriding those already present.
This is a good way to add your own classes.</p>
<p>The <code>NameComponent</code> props allow you to replace or override each component. Pass a lower-case string to change
the html element, or a full component if you want a more far reaching change. Bear-in-mind you will have to
<code>forwardRef</code> for a number of the components.</p>
<pre><code class="language-js"><span class="token operator">&lt;</span>WrapperComponent <span class="token punctuation">{</span><span class="token operator">...</span>wrapperProps<span class="token punctuation">}</span><span class="token operator">></span>                                  <span class="token comment">// &lt;div></span>
  <span class="token operator">&lt;</span>BeforeInputComponent <span class="token operator">/</span><span class="token operator">></span>                                            <span class="token comment">// Fragment</span>
  <span class="token operator">&lt;</span>InputComponent <span class="token punctuation">{</span><span class="token operator">...</span>inputProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                                  <span class="token comment">// &lt;input></span>
  <span class="token operator">&lt;</span>ListBoxComponent <span class="token punctuation">{</span><span class="token operator">...</span>listBoxProps<span class="token punctuation">}</span> <span class="token operator">></span>                               <span class="token comment">// the entire listbox implementation</span>
    <span class="token operator">&lt;</span>ListBoxListComponent <span class="token punctuation">{</span><span class="token operator">...</span>listBoxListProps<span class="token punctuation">}</span><span class="token operator">></span>                      <span class="token comment">// &lt;ul></span>
      <span class="token operator">&lt;</span>OptionComponent <span class="token punctuation">{</span><span class="token operator">...</span>optionProps<span class="token punctuation">}</span><span class="token operator">></span>                              <span class="token comment">// &lt;li></span>
        <span class="token operator">&lt;</span>ValueComponent <span class="token punctuation">{</span><span class="token operator">...</span>valueProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                            <span class="token comment">// Fragment</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>OptionComponent<span class="token operator">></span>
      <span class="token operator">&lt;</span>GroupComponent <span class="token punctuation">{</span><span class="token operator">...</span>groupProps<span class="token punctuation">}</span><span class="token operator">></span>                                <span class="token comment">// Fragment</span>
        <span class="token operator">&lt;</span>GroupLabelComponent <span class="token punctuation">{</span><span class="token operator">...</span>groupProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                       <span class="token comment">// &lt;li></span>
        <span class="token operator">&lt;</span>OptionComponent <span class="token punctuation">{</span><span class="token operator">...</span>optionProps<span class="token punctuation">}</span><span class="token operator">></span>                            <span class="token comment">// &lt;li></span>
          <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>visuallyHiddenClassName <span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                <span class="token comment">// contains the group name for screen readers</span>
          <span class="token operator">&lt;</span>ValueComponent <span class="token punctuation">{</span><span class="token operator">...</span>valueProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                          <span class="token comment">// Fragment</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>OptionComponent<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>GroupComponent<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ListBoxListComponent<span class="token operator">></span>
    <span class="token operator">&lt;</span>OpenButtonComponent <span class="token punctuation">{</span><span class="token operator">...</span>openButtonProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                      <span class="token comment">// &lt;span></span>
    <span class="token operator">&lt;</span>ClearButtonComponent <span class="token punctuation">{</span><span class="token operator">...</span>clearButtonProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                    <span class="token comment">// &lt;span></span>
    <span class="token operator">&lt;</span>FoundDescriptionComponent className<span class="token operator">=</span><span class="token punctuation">{</span>visuallyHiddenClassName<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token comment">// Tells screen readers how many results were found</span>
    <span class="token operator">&lt;</span>NotFoundComponent <span class="token punctuation">{</span><span class="token operator">...</span>notFoundProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                          <span class="token comment">// &lt;div></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ListBoxComponent<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>WrapperComponent<span class="token operator">></span></code></pre>
<h3 id="context">Context</h3>
<p>A context is provided to access the props and internal state of the control. The properties are:</p>
<ul>
<li><code>expanded</code> is the component expanded</li>
<li><code>notFound</code> is the not found message shown</li>
<li><code>activeOption</code> the currently active option</li>
<li><code>search</code> the current search term</li>
<li><code>suggestedOption</code> the currently suggested option</li>
<li><code>props</code> the props supplied to the component</li>
<li><code>aria-busy</code> the computed value of aria-busy</li>
<li><code>aria-autocomplete</code> the computed value of aria-autocomplete</li>
<li><code>props</code> the props supplied to the component</li>
</ul>
<h3 id="highlighters">Highlighters</h3>
<p>It is possible to highlight the parts of the matching the search term by replacing the <code>ValueComponent</code>. See <a href="/react-combo-boxes/highlighters.html">Highlighters</a>.</p>
<h2 id="advanced-options">Advanced options</h2>
<h3 id="autoselect-true-false-or-inline"><code>autoselect</code> (<code>true</code>, <code>false</code>, or <code>&quot;inline&quot;</code>)</h3>
<p>If <code>true</code> the suggested option will be automatically selected.</p>
<p>If set to <code>&quot;inline&quot;</code> the option will be completed using inline autocomplete. See <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#combobox">ARIA practices</a></p>
<h3 id="expandonfocus-boolean"><code>expandOnFocus</code> (<code>Boolean</code>)</h3>
<p>If true, the list box will be opened, if there are any available options, when the user focuses
the components.</p>
<h3 id="findsuggestion-function"><code>findSuggestion</code> (<code>Function</code>)</h3>
<p>Customise finding a suggested option. By default the suggested option is the first selectable
option providing it starts with the search string.</p>
<p>This takes a function with the signature <code>function (option: Object, search: String): Boolean</code>.
Return <code>true</code> to select an option, <code>null</code> to continue finding an option, or <code>false</code> to stop searching.</p>
<h3 id="managedfocus-boolean"><code>managedFocus</code> (<code>Boolean</code>)</h3>
<p>By default this is <code>true</code>. It means the browser focus follows the current selected option.</p>
<p>If <code>false</code> the combo box element remains focused and the current selected option is
marked with <code>aria-activedescendant</code>. This method is found to have incomplete compatibility
with many screen-readers.</p>
<h3 id="onlayoutlistbox-function"><code>onLayoutListBox</code> (<code>Function</code>)</h3>
<p>This is called when the list box is displayed or the options change.</p>
<p>It has the signature <code>Function ({ expanded: Boolean, listbox: Element, combobox: Element, option: Element })</code></p>
<p>See <a href="/react-combo-boxes/searchers.html">onLayoutListBox</a></p>
<h3 id="skipoption-function"><code>skipOption</code> (<code>Function</code>)</h3>
<p>This function can be used to skip an option when navigating with the arrow keys.</p>
<p>It has the signature <code>function (option: Object): Boolean</code>. Return <code>true</code> if the option should be skipped.</p>
<h3 id="showselectedlabel-boolean"><code>showSelectedLabel</code> (<code>Boolean</code>)</h3>
<p>If true, the label of the currently selected option will be shown in the <code>&lt;input&gt;</code> instead of the search string.
If false, the list box will always show the current search string.</p>
<h3 id="tabautocomplete-boolean"><code>tabAutocomplete</code> (<code>Boolean</code>)</h3>
<p>If true pressing tab will select the suggested option. If false, pressing tab will behave normally and
move the focus to the next control.</p>
</main><script src="/react-combo-boxes/render.a27d60bd.js"></script></body></html>