<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Combo box</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/react-combo-boxes/index.4fecc8d1.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=default%2Ces2018%2Ces2015%2Ces2016%2Ces2017%2Ces2019%2CNodeList.prototype.forEach" crossorigin></script></head><body><nav><div>React combo boxes</div><details><summary>Select</summary><a href="/react-combo-boxes/select.html">About</a><a href="/react-combo-boxes/select/string_options/index.html">String options</a><a href="/react-combo-boxes/select/object_options/index.html">Object options</a><a href="/react-combo-boxes/select/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/select/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/select/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/select/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/select/html_options/index.html">HTML options</a><a href="/react-combo-boxes/select/very_long_option/index.html">Very long option</a><a href="/react-combo-boxes/select/large_number_of_options/index.html">Large number of options</a><a href="/react-combo-boxes/select/id_options/index.html">Options with an number id</a><a href="/react-combo-boxes/select/multiple/index.html">Multiple options</a><a href="/react-combo-boxes/select/multiple_with_disabled/index.html">Multiple options with disabled</a></details><details><summary>Combo box</summary><a>About</a><a href="/react-combo-boxes/combo_box/string_options/index.html">String options</a><a href="/react-combo-boxes/combo_box/object_options/index.html">Object options</a><a href="/react-combo-boxes/combo_box/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/combo_box/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/combo_box/html_options/index.html">HTML options</a><a href="/react-combo-boxes/combo_box/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/combo_box/without_autocomplete/index.html">Without autocomplete</a><a href="/react-combo-boxes/combo_box/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/combo_box/inline_autocomplete/index.html">With inline autocomplete</a><a href="/react-combo-boxes/combo_box/aria_1_1/index.html">ARIA 1.1</a><a href="/react-combo-boxes/combo_box/aria_1_2/index.html">ARIA 1.2</a><a href="/react-combo-boxes/combo_box/aria_1_2_groups/index.html">ARIA 1.2 groups</a><a href="/react-combo-boxes/combo_box/listbox_footer/index.html">Listbox footer</a><a href="/react-combo-boxes/combo_box/tab_select/index.html">Tab select</a><a href="/react-combo-boxes/combo_box/layout_listbox/index.html">Layout listbox</a><a href="/react-combo-boxes/combo_box/contain_listbox/index.html">Contain listbox</a><a href="/react-combo-boxes/combo_box/popover/index.html">Popover</a><details><summary>Searches</summary><a href="/react-combo-boxes/searchers.html">About</a><a href="/react-combo-boxes/combo_box/fetch/index.html">Fetch search</a><a href="/react-combo-boxes/combo_box/async_search/index.html">Async search</a><a href="/react-combo-boxes/combo_box/search_suggestions/index.html">Search suggestions</a><a href="/react-combo-boxes/combo_box/background_autocomplete/index.html">With background autocomplete</a><a href="/react-combo-boxes/combo_box/close_on_select/index.html">Close on select</a><a href="/react-combo-boxes/combo_box/clear_on_select/index.html">Clear on select</a></details><details><summary>Edge cases</summary><a href="/react-combo-boxes/combo_box/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/combo_box/blank_option/index.html">Blank option</a><a href="/react-combo-boxes/combo_box/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/combo_box/autoselect_disabled_option/index.html">Disabled option and autoselect</a><a href="/react-combo-boxes/combo_box/search_min_length/index.html">Search min length</a><a href="/react-combo-boxes/combo_box/very_long_option/index.html">Very long option</a><a href="/react-combo-boxes/combo_box/disabled/index.html">Disabled</a><a href="/react-combo-boxes/combo_box/read_only/index.html">Read only</a></details><details><summary>Combo box table</summary><a href="/react-combo-boxes/combo_box_table.html">About</a><a href="/react-combo-boxes/combo_box_table/combo_box/index.html">Table</a><a href="/react-combo-boxes/combo_box_table/combo_box_headers/index.html">With headers</a><a href="/react-combo-boxes/combo_box_table/combo_box_grouped/index.html">Grouped</a><a href="/react-combo-boxes/combo_box_table/combo_box_grouped_headers/index.html">Grouped with headers</a><a href="/react-combo-boxes/combo_box_table/combo_box_column_width/index.html">Column width adjustment</a></details><details><summary>Highlighters</summary><a href="/react-combo-boxes/highlighters.html">About</a><a href="/react-combo-boxes/highlighters/token/index.html">Token</a><a href="/react-combo-boxes/highlighters/prefix/index.html">Prefix</a><a href="/react-combo-boxes/highlighters/substring/index.html">Substring</a><a href="/react-combo-boxes/highlighters/delimited/index.html">Delimited</a></details></details><details><summary>Drop down</summary><a href="/react-combo-boxes/drop_down.html">About</a><a href="/react-combo-boxes/drop_down/string_options/index.html">String options</a><a href="/react-combo-boxes/drop_down/object_options/index.html">Object options</a><a href="/react-combo-boxes/drop_down/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/drop_down/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/drop_down/disabled/index.html">Disabled drop down</a><a href="/react-combo-boxes/drop_down/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/drop_down/html_options/index.html">HTML options</a><a href="/react-combo-boxes/drop_down/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/drop_down/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/drop_down/aria_1_2_groups/index.html">With ARIA 1.2 groups</a><details><summary>Edge cases</summary><a href="/react-combo-boxes/drop_down/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/drop_down/blank_option/index.html">Blank option</a><a href="/react-combo-boxes/drop_down/no_options/index.html">No options</a><a href="/react-combo-boxes/drop_down/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/drop_down/very_long_option/index.html">Very long option</a></details><details><summary>Drop down table</summary><a href="/react-combo-boxes/drop_down_table.html">About</a><a href="/react-combo-boxes/drop_down_table/drop_down/index.html">Table</a><a href="/react-combo-boxes/drop_down_table/drop_down_headers/index.html">With headers</a><a href="/react-combo-boxes/drop_down_table/drop_down_grouped/index.html">Grouped</a></details></details><details><summary>Radios</summary><a href="/react-combo-boxes/radios.html">About</a><a href="/react-combo-boxes/radios/string_options/index.html">String options</a><a href="/react-combo-boxes/radios/object_options/index.html">Object options</a><a href="/react-combo-boxes/radios/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/radios/with_description/index.html">With a description</a><a href="/react-combo-boxes/radios/grouped_options/index.html">Grouped options</a></details><details><summary>Checkboxes</summary><a href="/react-combo-boxes/checkboxes.html">About</a><a href="/react-combo-boxes/checkboxes/string_options/index.html">String options</a><a href="/react-combo-boxes/checkboxes/object_options/index.html">Object options</a><a href="/react-combo-boxes/checkboxes/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/checkboxes/with_description/index.html">With a description</a><a href="/react-combo-boxes/checkboxes/grouped_options/index.html">Grouped options</a></details><a href="/react-combo-boxes/datalist/index.html">Datalist</a><a href="/react-combo-boxes/test_helper.html">Test helper</a><a href="/react-combo-boxes/accessibility.html">Accessibility</a></nav><script src="/react-combo-boxes/index.c45c639b.js"></script><main><h1><code>&lt;ComboBox&gt;</code></h1> <p>Creates drop-down combined with an editable text-box. Also referred to as a typeahead or an autocomplete. Typing will suggest options which the user can then select.</p> <p>This uses the ARIA 1.0 editable <a href="https://w3c.github.io/aria-practices/#combobox">combo box</a> design pattern.</p> <p>Combo-boxes like this are used in multiple different ways with many different interaction patterns. This implementation is flexible and can be used, for example, as both a search autocomplete or to restrict select to a set of predefined options.</p> <p>It supports loading options asynchronous and highlighting the matched text.</p> <h2>Usage</h2> <pre><code class="language-js"><span class="keyword token">const</span> <span class="punctuation token">[</span>value<span class="punctuation token">,</span> setValue<span class="punctuation token">]</span> <span class="operator token">=</span> <span class="function token">useState</span><span class="punctuation token">(</span>initialValue<span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="comment token">// Updates as the user types</span>
<span class="keyword token">const</span> <span class="punctuation token">[</span>search<span class="punctuation token">,</span> setSearch<span class="punctuation token">]</span> <span class="operator token">=</span> <span class="function token">useState</span><span class="punctuation token">(</span><span class="keyword token">null</span><span class="punctuation token">)</span><span class="punctuation token">;</span>
<span class="comment token">// Filter the options using the search term</span>
<span class="keyword token">const</span> filteredOptions <span class="operator token">=</span> <span class="function token">useTokenSearch</span><span class="punctuation token">(</span>search<span class="punctuation token">,</span> <span class="punctuation token">{</span> options <span class="punctuation token">}</span><span class="punctuation token">)</span><span class="punctuation token">;</span>

<span class="operator token">&lt;</span>label
  id<span class="operator token">=</span><span class="string token">"id-label"</span>
  htmlFor<span class="operator token">=</span><span class="string token">"id"</span>
<span class="operator token">></span>
  Label
<span class="operator token">&lt;</span><span class="operator token">/</span>label<span class="operator token">></span>
<span class="operator token">&lt;</span>ComboBox
  id<span class="operator token">=</span><span class="string token">"id"</span>
  <span class="comment token">// required so the listbox is properly labelled</span>
  aria<span class="operator token">-</span>labelledby<span class="operator token">=</span><span class="string token">"id-label"</span>
  options<span class="operator token">=</span><span class="punctuation token">{</span>filterOptions<span class="punctuation token">}</span>
  value<span class="operator token">=</span><span class="punctuation token">{</span>value<span class="punctuation token">}</span>
  onValue<span class="operator token">=</span><span class="punctuation token">{</span>setValue<span class="punctuation token">}</span>
  onSearch<span class="operator token">=</span><span class="punctuation token">{</span>setSearch<span class="punctuation token">}</span>
<span class="operator token">/</span><span class="operator token">></span>
</code></pre> <p>This is a controlled component. You must update <code>value</code> in response to <code>onValue</code>.</p> <p>The <code>onSearch</code> function is called with the current search value and should be used to update the options.</p> <h2>Props</h2> <h3>Display and selecting options</h3> <h4><code>options: Array&lt;any&gt;</code></h4> <p>The options to display. <a href="/react-combo-boxes/options.html">See options</a>.</p> <h4><code>mapOption: (option: any) =&gt; Option | string</code></h4> <p>Map an option into label, value, disabled and group. <a href="/react-combo-boxes/options.html">See options</a></p> <h4><code>value: any</code></h4> <p>The currently selected option</p> <h4><code>onValue: (option: any) =&gt; void</code></h4> <p>Called with the selected option when a user selects an option.</p> <h4><code>onSearch: (search: string) =&gt; void</code></h4> <p>Called as a user types.</p> <p>If this isn&#39;t supplied the combo-box will be set to <code>aria-autocomplete=&quot;none&quot;</code>, otherwise it is a <code>aria-autocomplete=&quot;list&quot;</code>. See <a href="https://w3c.github.io/aria-practices/#combobox">combo-box on ARIA practices</a>.</p> <h4><code>busy: boolean</code></h4> <p>Used with an async search to say the component is currently busy. This sets <code>aria-busy</code>.</p> <h3>HTML attributes</h3> <h4><code>id: string</code></h4> <p><strong>Required</strong> The id of the component</p> <h4><code>classPrefix: string = &quot;react-combo-boxes&#39;</code></h4> <p>By default the component is built using BEM style class names. This sets the prefix for all those classes.</p> <p>Set to falsey to remove the BEM classes.</p> <h4><code>className: string</code></h4> <p>Sets the class name on the wrapper only.</p> <h4><code>aria-describedby: string | string[]</code></h4> <p>Ids of any elements describing the combo-box.</p> <h4><code>aria-labelledby: string | string[]</code></h4> <p>Ids of any elements labelling the combo-box and the list-box</p> <p>You should set this to the id of the label as ARIA requires the list-box to be named.</p> <h4><code>ref</code></h4> <p>The ref will be passed to the <code>&lt;input&gt;</code> element.</p> <h4>Additional HTML attributes</h4> <p>The following attributes will be passed to the <code>&lt;input&gt;</code> element.</p> <ul> <li><code>autoCapitalize</code></li> <li><code>disabled</code></li> <li><code>inputMode</code></li> <li><code>maxLength</code></li> <li><code>minLength</code></li> <li><code>pattern</code></li> <li><code>placeholder</code></li> <li><code>readOnly</code></li> <li><code>required</code></li> <li><code>size</code></li> <li><code>spellCheck</code>.</li> </ul> <h3>Behaviour switches</h3> <h4><code>managedFocus: boolean = true</code></h4> <p>When true, the document focus moves to the selected option. When false the selected option is exposed to a screen-reader by <code>aria-activedescendant</code>.</p> <p>This defaults to <code>true</code> for maximum compatibility with older screen-readers.</p> <h4><code>autoselect: boolean | &quot;inline&quot; = false</code></h4> <p>If <code>true</code> the first matching option is automatically selected.</p> <p>If <code>&quot;inline&quot;</code> then <code>aria-autocomplete=&quot;inline&quot;</code> is set and the text typed into the combo-box is autocompleted.</p> <p>See <a href="https://w3c.github.io/aria-practices/#combobox">ARIA practices</a> for an explanation of these modes.</p> <h4><code>clearOnSelect: boolean = false</code></h4> <p>If true, calls <code>onSearch</code> with an empty string when an option is selected. If false, <code>onSearch</code> is called with the selected label.</p> <h4><code>closeOnSelect: boolean = true</code></h4> <p>Close the listbox when an item is selected.</p> <p>If set to false the list box will remain open and continue to show existing on new options to select.</p> <h4><code>expandOnFocus: boolean = true</code></h4> <p>Expand the list box when then component is focused. If <code>false</code> the use must type before the list box is expanded.</p> <h4><code>selectOnBlur: boolean = true</code></h4> <p>Select the currently focused option when blurring the component.</p> <p>If <code>false</code> the user must explicitly select an option by pressing <kbd>Enter</kbd> or clicking on an option.</p> <h4><code>showSelectedLabel: boolean = false</code></h4> <p>If set to <code>true</code>, the value in the <code>input</code> will be updated to match the currently focused option.</p> <h4><code>tabAutocomplete: boolean = false</code></h4> <p>If <code>true</code>, pressing <kbd>Tab</kbd> while an autocompleted option is displayed will select it without moving the focus.</p> <p>If <code>false</code> pressing <kbd>Tab</kbd> moves to the next focusable element. The option may still be selected if <code>selectOnBlur</code> is <code>true</code>.</p> <h4><code>tabBetweenOptions: boolean = false</code></h4> <p>If <code>true</code>, pressing <kbd>Tab</kbd> and <kbd>Shift</kbd> + <kbd>Tab</kbd> will move between options in the listbox.</p> <p>This is against normal user interface guidelines but maybe preferable in some situations.</p> <h3>Customisation</h3> <h4><code>assistiveHint</code></h4> <p>Sets the description of the combo-box.</p> <p>Defaults to &quot;When results are available use up and down arrows to review and enter to select&quot;</p> <h4><code>notFoundMessage: () =&gt; string</code></h4> <p>Set the message to be displayed or read or a screen-reader when the no search options are found.</p> <p>Defaults to: &quot;No results found&quot;</p> <h4><code>foundOptionsMessage: (options: Array&lt;Option&gt;) =&gt; string</code></h4> <p>Sets the message to be read to a screen-reader when options are found.</p> <p>Defaults to: &quot;x results are available&quot;</p> <h4><code>selectedOptionMessage: (option: Option, options: Array&lt;Option&gt;) =&gt; string</code></h4> <p>Sets the message to be read to a screen-reader when an option is highlighted.</p> <p>Defaults to: &quot;label x of y is highlighted&quot;</p> <h4>render props</h4> <p>A number of render methods are provided to customise the appearance of the component.</p> <p>Each render method has the signature</p> <pre><code class="language-js"><span class="punctuation token">(</span>
  <span class="comment token">// The props set on the &lt;ComboBox></span>
  <span class="literal-property property token">props</span><span class="operator token">:</span> object<span class="punctuation token">,</span>
  <span class="comment token">// The state of the component</span>
  <span class="literal-property property token">state</span><span class="operator token">:</span> <span class="punctuation token">{</span>
    <span class="punctuation token">[</span><span class="string token">'aria-autocomplete'</span><span class="punctuation token">]</span><span class="operator token">:</span> string<span class="punctuation token">;</span>
    <span class="punctuation token">[</span><span class="string token">'aria-busy'</span><span class="punctuation token">]</span><span class="operator token">:</span> string<span class="punctuation token">;</span>
    <span class="comment token">// Is the list box open</span>
    <span class="literal-property property token">expanded</span><span class="operator token">:</span> boolean<span class="punctuation token">;</span>
    <span class="comment token">// Is the not found message showing</span>
    <span class="literal-property property token">notFound</span><span class="operator token">:</span> boolean<span class="punctuation token">;</span>
    <span class="comment token">// Current search string</span>
    <span class="literal-property property token">search</span><span class="operator token">:</span> string<span class="punctuation token">;</span>
    <span class="comment token">// Currently selected option</span>
    <span class="literal-property property token">currentOption</span><span class="operator token">:</span> Option<span class="punctuation token">;</span>
    <span class="comment token">// Suggested option if autocomplete is true</span>
    <span class="literal-property property token">suggestedOption</span><span class="operator token">:</span> Option<span class="punctuation token">;</span>
    <span class="comment token">// Current option (when rending an option)</span>
    <span class="literal-property property token">option</span><span class="operator token">:</span> Option<span class="punctuation token">;</span>
    <span class="comment token">// Is the current option selected (when rendering an option)</span>
    <span class="literal-property property token">selected</span><span class="operator token">:</span> boolean<span class="punctuation token">;</span>
    <span class="comment token">// Current group (when rendering a group or option)</span>
    <span class="literal-property property token">group</span><span class="operator token">:</span> Group<span class="punctuation token">;</span>
  <span class="punctuation token">}</span><span class="punctuation token">,</span>
  <span class="comment token">// The props passed into the component</span>
  <span class="literal-property property token">componentProps</span><span class="operator token">:</span> object<span class="punctuation token">;</span>
<span class="punctuation token">)</span> <span class="operator token">=></span> React<span class="punctuation token">.</span>ReactNode
</code></pre> <p>The render functions available are:</p> <table> <thead> <tr> <th>Name</th> <th>Default value</th> <th>Description</th> </tr> </thead> <tbody><tr> <td><code>renderWrapper</code></td> <td><code>(props) =&gt; &lt;div {...props} /&gt;</code></td> <td>Renders the component wrapper</td> </tr> <tr> <td><code>renderInput</code></td> <td><code>(props) =&gt; &lt;input {...props} /&gt;</code></td> <td>Renders the combo-box input</td> </tr> <tr> <td><code>renderDownArrow</code></td> <td><code>(props) =&gt; &lt;span {...props} /&gt;</code></td> <td>Renders down arrow displayed when options are available</td> </tr> <tr> <td><code>renderClearButton</code></td> <td><code>(props) =&gt; &lt;span {...props} /&gt;</code></td> <td>Renders &#39;Ã—&#39; button displayed when an option is selected</td> </tr> <tr> <td><code>renderListBox</code></td> <td><code>(props) =&gt; &lt;ul {...props} /&gt;</code></td> <td>Renders the list-box</td> </tr> <tr> <td><code>renderGroup</code></td> <td><code>(props) =&gt; &lt;Fragment {...props} /&gt;</code></td> <td>Wraps a group of options</td> </tr> <tr> <td><code>renderGroupAccessibleLabel</code></td> <td><code>(props) =&gt; &lt;span {...props} /&gt;</code></td> <td>Renders the accessible label for a group. This will be read out before each option</td> </tr> <tr> <td><code>renderGroupLabel</code></td> <td><code>(props) =&gt; &lt;li {...props} /&gt;</code></td> <td>Renders the group including the options. This will be ignored by a screen-reader</td> </tr> <tr> <td><code>renderGroupName</code></td> <td><code>(props) =&gt; &lt;Fragment {...props} /&gt;</code></td> <td>Renders the name of the group. This will be ignored by a screen-reader</td> </tr> <tr> <td><code>renderOption</code></td> <td><code>(props) =&gt; &lt;li {...props} /&gt;</code></td> <td>Renders an option</td> </tr> <tr> <td><code>renderValue</code></td> <td><code>(props) =&gt; &lt;Fragment {...props} /&gt;</code></td> <td>Renders the value within an option. See <a href="/react-combo-boxes/highlighters.html">Highlighters</a>.</td> </tr> <tr> <td><code>renderNotFound</code></td> <td><code>(props) =&gt; &lt;div {...props} /&gt;</code></td> <td>Renders the not found message</td> </tr> <tr> <td><code>renderAriaDescription</code></td> <td><code>(props) =&gt; &lt;div {...props} /&gt;</code></td> <td>Renders the assistive hint of the combo box</td> </tr> </tbody></table> <h4><code>onLayoutListBox: (listbox: Element) =&gt; void | []&lt;(listbox: Element) =&gt; void&gt;</code></h4> <p>This is called whenever the listbox is displayed or the options change.</p> <p>This can be used to position or resize the listbox.</p> <p>See <a href="/react-combo-boxes/list_box_layout.html">list box layout</a> for some supplied layout helpers.</p> </main><footer><p>Version: 2.7.0-rc.1</p></footer><script src="/react-combo-boxes/index.015e169c.js" type="module"></script></body></html>