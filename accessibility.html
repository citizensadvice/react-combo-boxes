<!DOCTYPE html><html lang="en-GB"><head><meta charset="utf-8"><title>Accessibility</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/react-combo-boxes/index.4631bc80.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=default%2Ces2018%2Ces2015%2Ces2016%2Ces2017%2Ces2019%2CNodeList.prototype.forEach" crossorigin></script></head><body><nav><div>React combo boxes</div><details><summary>Select</summary><a href="/react-combo-boxes/select.html">About</a><a href="/react-combo-boxes/select/string_options/index.html">String options</a><a href="/react-combo-boxes/select/object_options/index.html">Object options</a><a href="/react-combo-boxes/select/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/select/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/select/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/select/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/select/html_options/index.html">HTML options</a><a href="/react-combo-boxes/select/very_long_option/index.html">Very long option</a><a href="/react-combo-boxes/select/large_number_of_options/index.html">Large number of options</a><a href="/react-combo-boxes/select/id_options/index.html">Options with an number id</a><a href="/react-combo-boxes/select/multiple/index.html">Multiple options</a><a href="/react-combo-boxes/select/multiple_with_disabled/index.html">Multiple options with disabled</a></details><details><summary>Combo box</summary><a href="/react-combo-boxes/combo_box.html">About</a><a href="/react-combo-boxes/combo_box/string_options/index.html">String options</a><a href="/react-combo-boxes/combo_box/object_options/index.html">Object options</a><a href="/react-combo-boxes/combo_box/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/combo_box/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/combo_box/html_options/index.html">HTML options</a><a href="/react-combo-boxes/combo_box/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/combo_box/without_autocomplete/index.html">Without autocomplete</a><a href="/react-combo-boxes/combo_box/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/combo_box/inline_autocomplete/index.html">With inline autocomplete</a><a href="/react-combo-boxes/combo_box/aria_1_1/index.html">ARIA 1.1</a><a href="/react-combo-boxes/combo_box/aria_1_2/index.html">ARIA 1.2</a><a href="/react-combo-boxes/combo_box/aria_1_2_groups/index.html">ARIA 1.2 groups</a><a href="/react-combo-boxes/combo_box/listbox_footer/index.html">Listbox footer</a><a href="/react-combo-boxes/combo_box/tab_select/index.html">Tab select</a><a href="/react-combo-boxes/combo_box/layout_listbox/index.html">Layout listbox</a><a href="/react-combo-boxes/combo_box/contain_listbox/index.html">Contain listbox</a><details><summary>Searches</summary><a href="/react-combo-boxes/searchers.html">About</a><a href="/react-combo-boxes/combo_box/fetch/index.html">Fetch search</a><a href="/react-combo-boxes/combo_box/async_search/index.html">Async search</a><a href="/react-combo-boxes/combo_box/search_suggestions/index.html">Search suggestions</a><a href="/react-combo-boxes/combo_box/background_autocomplete/index.html">With background autocomplete</a><a href="/react-combo-boxes/combo_box/close_on_select/index.html">Close on select</a></details><details><summary>Edge cases</summary><a href="/react-combo-boxes/combo_box/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/combo_box/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/combo_box/autoselect_disabled_option/index.html">Disabled option and autoselect</a><a href="/react-combo-boxes/combo_box/search_min_length/index.html">Search min length</a><a href="/react-combo-boxes/combo_box/very_long_option/index.html">Very long option</a><a href="/react-combo-boxes/combo_box/disabled/index.html">Disabled</a><a href="/react-combo-boxes/combo_box/read_only/index.html">Read only</a></details><details><summary>Combo box table</summary><a href="/react-combo-boxes/combo_box_table.html">About</a><a href="/react-combo-boxes/combo_box_table/combo_box/index.html">Table</a><a href="/react-combo-boxes/combo_box_table/combo_box_headers/index.html">With headers</a><a href="/react-combo-boxes/combo_box_table/combo_box_grouped/index.html">Grouped</a><a href="/react-combo-boxes/combo_box_table/combo_box_grouped_headers/index.html">Grouped with headers</a><a href="/react-combo-boxes/combo_box_table/combo_box_column_width/index.html">Column width adjustment</a></details><details><summary>Highlighters</summary><a href="/react-combo-boxes/highlighters.html">About</a><a href="/react-combo-boxes/highlighters/token/index.html">Token</a><a href="/react-combo-boxes/highlighters/prefix/index.html">Prefix</a><a href="/react-combo-boxes/highlighters/substring/index.html">Substring</a><a href="/react-combo-boxes/highlighters/delimited/index.html">Delimited</a></details></details><details><summary>Drop down</summary><a href="/react-combo-boxes/drop_down.html">About</a><a href="/react-combo-boxes/drop_down/string_options/index.html">String options</a><a href="/react-combo-boxes/drop_down/object_options/index.html">Object options</a><a href="/react-combo-boxes/drop_down/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/drop_down/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/drop_down/disabled/index.html">Disabled drop down</a><a href="/react-combo-boxes/drop_down/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/drop_down/html_options/index.html">HTML options</a><a href="/react-combo-boxes/drop_down/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/drop_down/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/drop_down/aria_1_2_groups/index.html">With ARIA 1.2 groups</a><details><summary>Edge cases</summary><a href="/react-combo-boxes/drop_down/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/drop_down/no_options/index.html">No options</a><a href="/react-combo-boxes/drop_down/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/drop_down/very_long_option/index.html">Very long option</a></details><details><summary>Drop down table</summary><a href="/react-combo-boxes/drop_down_table.html">About</a><a href="/react-combo-boxes/drop_down_table/drop_down/index.html">Table</a><a href="/react-combo-boxes/drop_down_table/drop_down_headers/index.html">With headers</a><a href="/react-combo-boxes/drop_down_table/drop_down_grouped/index.html">Grouped</a></details></details><details><summary>Radios</summary><a href="/react-combo-boxes/radios.html">About</a><a href="/react-combo-boxes/radios/string_options/index.html">String options</a><a href="/react-combo-boxes/radios/object_options/index.html">Object options</a><a href="/react-combo-boxes/radios/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/radios/with_description/index.html">With a description</a><a href="/react-combo-boxes/radios/grouped_options/index.html">Grouped options</a></details><details><summary>Checkboxes</summary><a href="/react-combo-boxes/checkboxes.html">About</a><a href="/react-combo-boxes/checkboxes/string_options/index.html">String options</a><a href="/react-combo-boxes/checkboxes/object_options/index.html">Object options</a><a href="/react-combo-boxes/checkboxes/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/checkboxes/with_description/index.html">With a description</a><a href="/react-combo-boxes/checkboxes/grouped_options/index.html">Grouped options</a></details><a href="/react-combo-boxes/datalist/index.html">Datalist</a><a href="/react-combo-boxes/test_helper.html">Test helper</a><a>Accessibility</a></nav><script src="/react-combo-boxes/index.04900af0.js"></script><main><h1 id="accessibility">Accessibility</h1> <p>Some notes the accessibility of combo boxes.</p> <p>Creating a combo-box implementation that works uniformly across all screen-readers is problematic.</p> <p>While combo-boxes have been around for a long time, even the native browser combo-box (using <code>&lt;datalist&gt;</code>) has poor usability for screen-readers, and has only recently been available on iOS touch devices.</p> <p>Each screen-reader, browser and platform combination behaves differently and supports a different set of features. When you consider different screen-reader, browser and platforms versions this gives you thousands of combinations that may have subtle bugs, differences or outright incompatibilities.</p> <p>Screen-readers can be so expensive many users don&#39;t upgrade them for years. Incompatibilities and behaviour changes in newer browsers mean some users prefer to stick with a trusted outdated browser version.</p> <p>Added to this some users may not be familiar with the concept of combo-boxes. Sighted users will generally be able to &quot;figure it out&quot; from visual cues and can at least hunt and peck with a mouse,</p> <p>It is harder to give non-sighted users relevant audible cues. This is made more difficult by not knowing what information a screen-reader has or hasn&#39;t given the user. For example, VoiceOver will read out system hints containing confusing keyboard shortcuts.</p> <h2 id="combo-box-pattern">Combo-box pattern</h2> <p>There are three official combo-box patterns: <a href="https://www.w3.org/TR/wai-aria-practices/#combobox">ARIA 1.0, ARIA 1.1</a> and <a href="https://w3c.github.io/aria-practices/#combobox">ARIA 1.2</a>. The ARIA GitHub wiki contains an <a href="https://github.com/w3c/aria/wiki/Resolving-ARIA-1.1-Combobox-Issues">explainer</a> on why.</p> <p>Ultimately it is best to stick to the ARIA 1.0 pattern. This has the greatest screen-reader compatibility.</p> <p>It is essential the correct roles and attributes are used. Without the correct roles a screen-reader will hijack the arrow keys for moving the virtual cursor and the component will not work at all.</p> <h2 id="tab-stops">Tab stops</h2> <p>Each widget on a page - for example a combox-box, menu, textbox, tablist - is supposed to be a single tab-stop.</p> <p>That means you are supposed tab between widgets, but not within a widget. Within a widget you use arrow keys.</p> <p>Overall, this is better for experience for users, but can <a href="http://simplyaccessible.com/article/danger-aria-tabs/">trip-up novice users</a>.</p> <p>This library treats a combo-box as a single tab-stop. However there is an option to allow <a href="/react-combo-boxes/combo_box.html#tabbetweenoptions-boolean--false">tabbing between combo-box options</a>.</p> <h2 id="managed-focus-vs-aria-activedescendant">Managed focus vs <code>aria-activedescendant</code></h2> <p>ARIA 1.0 introduced the <a href="https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"><code>aria-activedescendant</code></a> attribute.</p> <p>This is supposed to simplify managing focus inside a widget so it can remain a single tab-stop.</p> <p>While <code>aria-activedescendant</code> now works well in most screen-readers, unfortunately it doesn&#39;t work perfectly in all screen-readers. VoiceOver in particular has had some bugs in this area.</p> <p>This library uses managed-focus for maximum compatibility. That means focusing options using the keyboard moves browser focus.</p> <p>If is possible to opt out of this by setting the <a href="/react-combo-boxes/combo_box.html#managedfocus-boolean--true"><code>managedFocus</code></a> option to <code>false</code>.</p> <h2 id="status-messages">Status messages</h2> <p>It is useful for a user to know if a combo-box has any options to select.</p> <p>Unfortunately most screen-readers do not provide any useful status messages to the user while using a combo-box.</p> <p>This library uses a debounced live region to notify users when options are available. The implementation and status messages were copied from <a href="https://github.com/alphagov/accessible-autocomplete">gov.uk accessible combo-box</a>.</p> <p>A risk is a future screen-reader will provide status messages resulting in verbose duplicated messages.</p> <p>It is possible to put the current status in the aria description (<code>aria-describedby</code>) however screen-readers are inconsistent in whether they read changes to the aria description. This can create a noisy experience in some screen-readers, particularly if paired with an aria live region or with a long description.</p> <h2 id="groups">Groups</h2> <p>The <code>&lt;select&gt;</code> element allows options to be divided into groups using <code>&lt;optgroup&gt;</code>. Screen-reader support for this is patchy. Some have no support. Some, like VoiceOver, treat a group as a disabled option, others announce groups in a similar manner to fieldsets.</p> <p>ARIA 1.0 / 1.1 does not support using groups on a combobox. ARIA 1.2 has <a href="https://w3c.github.io/aria/#substantive-changes-since-the-wai-aria-1-1-recommendation">added support for groups as a child of a listbox</a>, but screen-reader support is limited and using this pattern will break screen-readers without support.</p> <p>This library does support groups, but these are simulated. The visual labels are not accessible to the screen-reader but each option is prefixed with a visually hidden group name. This means the group name is repeated for every option when read by a screen-reader.</p> <h2 id="disabled-options">Disabled options</h2> <p>The recommend interaction pattern for disabled options is unclear. </p> <p>For <code>&lt;select&gt;</code> some screen-readers will allow you to navigate into a disabled options, others will skip over them not letting the user know they are present.</p> <p>This library allows you to navigate into a disabled option, and for a screen-reader to read it.</p> <h2 id="grid-layout">Grid layout</h2> <p>ARIA 1.1 introduced a <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#grid-popup-keyboard-interaction">combo-box grid layout</a>.</p> <p>This has poor screen-reader compatibility.</p> <p>This library provides a <a href="/react-combo-boxes/combo_box_table.html">simulated grid layout</a> using a <code>&lt;table&gt;</code>. This isn&#39;t a true grid layout as the user cannot use the arrow keys to move between cells. Instead the entire table row is read out for each option. Visually hidden labels will also read out the table headers.</p> <h2 id="keyboard-shortcuts">Keyboard shortcuts</h2> <p>ARIA practices contains a number of recommended keyboard shortcuts.</p> <p>This library implements all of these while ensuring the shortcuts don&#39;t interfere with platform conventions.</p> <p>For example:</p> <ul> <li><kbd>Home</kbd> and <kbd>End</kbd> are recommended to shortcuts for the first and last option in ARIA practices, however on windows these move to the start and end of a textbox. Therefore this is only implemented on a macOS.</li> <li>some additional macOS shortcuts, for example <kbd>ctrl</kbd> + <kbd>h</kbd> for backspace, are supported.</li> </ul> <p>Some shortcuts are ambiguous.</p> <ul> <li><kbd>Escape</kbd>: should it clear the current option or just close the listbox? This library just closes the list box.</li> <li>It is unclear if <kbd>Tab</kbd> should select the currently focused option. This library has a <a href="/react-combo-boxes/combo_box.html#tabautocomplete-boolean--false">few behaviour flags</a> for different tab options.</li> </ul> <h2 id="highlighting">Highlighting</h2> <p>This library supports <a href="/react-combo-boxes/highlighters.html">highlighting</a> the parts of the found results that match the search term.</p> <p>Semantically this can be archived with <code>&lt;mark&gt;Hyp&lt;/mark&gt;atia</code>.</p> <p>Unfortunately some screen-readers read this as &quot;Hyp athia&quot;, which can turn search results into nonsense.</p> <p>This library hides the highlighted text from a screen-reader and uses a visually hidden element so it always reads the unhighlighted result.</p> <h2 id="autocomplete">Autocomplete</h2> <p>ARIA practices has several schemes for autocompleting. It is debatable whether these will do anything more than confuse the user. Nevertheless they <a href="/react-combo-boxes/combo_box.html#autoselect-boolean--inline--false">are supported</a>.</p> </main><script src="/react-combo-boxes/index.6985bc6b.js" type="module"></script></body></html>