<html lang="en-GB"><head><meta charset="utf-8"><title>Searchers</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/react-combo-boxes/styles.97e0bef6.css"><script src="https://polyfill.io/v3/polyfill.min.js?features=default%2Ces2018%2Ces2015%2Ces2016%2Ces2017%2Ces2019%2CNodeList.prototype.forEach" crossorigin="anonymous"></script></head><body><nav><div>React combo boxes</div><details><summary>Select</summary><a href="/react-combo-boxes/select.html">About</a><a href="/react-combo-boxes/select/string_options/index.html">String options</a><a href="/react-combo-boxes/select/object_options/index.html">Object options</a><a href="/react-combo-boxes/select/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/select/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/select/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/select/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/select/html_options/index.html">HTML options</a></details><details><summary>Drop down</summary><a href="/react-combo-boxes/drop_down.html">About</a><a href="/react-combo-boxes/drop_down/string_options/index.html">String options</a><a href="/react-combo-boxes/drop_down/object_options/index.html">Object options</a><a href="/react-combo-boxes/drop_down/placeholder_option/index.html">Placeholder option</a><a href="/react-combo-boxes/drop_down/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/drop_down/disabled/index.html">Disabled drop down</a><a href="/react-combo-boxes/drop_down/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/drop_down/html_options/index.html">HTML options</a><a href="/react-combo-boxes/drop_down/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/drop_down/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/drop_down/aria_1_2_groups/index.html">With ARIA 1.2 groups</a><details><summary>Edge cases</summary><a href="/react-combo-boxes/drop_down/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/drop_down/no_options/index.html">No options</a><a href="/react-combo-boxes/drop_down/all_disabled_options/index.html">All disabled options</a></details></details><details><summary>Combo box</summary><a href="/react-combo-boxes/combo_box.html">About</a><a href="/react-combo-boxes/combo_box/string_options/index.html">String options</a><a href="/react-combo-boxes/combo_box/object_options/index.html">Object options</a><a href="/react-combo-boxes/combo_box/disabled_option/index.html">Disabled option</a><a href="/react-combo-boxes/combo_box/grouped_options/index.html">Grouped options</a><a href="/react-combo-boxes/combo_box/html_options/index.html">HTML options</a><a href="/react-combo-boxes/combo_box/mapped_options/index.html">Mapped options</a><a href="/react-combo-boxes/combo_box/without_autocomplete/index.html">Without autocomplete</a><a href="/react-combo-boxes/combo_box/without_managed_focus/index.html">Without managed focus</a><a href="/react-combo-boxes/combo_box/inline_autocomplete/index.html">With inline autocomplete</a><a href="/react-combo-boxes/combo_box/aria_1_0/index.html">ARIA 1.0</a><a href="/react-combo-boxes/combo_box/aria_1_1/index.html">ARIA 1.1</a><a href="/react-combo-boxes/combo_box/aria_1_2_groups/index.html">ARIA 1.2 groups</a><a href="/react-combo-boxes/combo_box/listbox_footer/index.html">Listbox footer</a><details><summary>Searches</summary><a>About</a><a href="/react-combo-boxes/combo_box/async_search/index.html">Async search</a><a href="/react-combo-boxes/combo_box/search_suggestions/index.html">Search suggestions</a><a href="/react-combo-boxes/combo_box/background_autocomplete/index.html">With background autocomplete</a></details><details><summary>Edge cases</summary><a href="/react-combo-boxes/combo_box/identical_options/index.html">Identical options</a><a href="/react-combo-boxes/combo_box/all_disabled_options/index.html">All disabled options</a><a href="/react-combo-boxes/combo_box/autoselect_disabled_option/index.html">Disabled option and autoselect</a><a href="/react-combo-boxes/combo_box/search_min_length/index.html">Search min length</a></details></details><details><summary>Table layout</summary><a href="/react-combo-boxes/list_box_table.html">About</a><details><summary>Drop down</summary><a href="/react-combo-boxes/list_box_table/drop_down/index.html">Table</a><a href="/react-combo-boxes/list_box_table/drop_down_headers/index.html">With headers</a><a href="/react-combo-boxes/list_box_table/drop_down_grouped/index.html">Grouped</a></details><details><summary>Combo box</summary><a href="/react-combo-boxes/list_box_table/combo_box/index.html">Table</a><a href="/react-combo-boxes/list_box_table/combo_box_headers/index.html">With headers</a><a href="/react-combo-boxes/list_box_table/combo_box_grouped/index.html">Grouped</a></details></details><a href="/react-combo-boxes/test_helper.html">Test helper</a></nav><script src="/react-combo-boxes/side_collapse.da5ebe24.js"></script><main><h1 id="searching">Searching</h1>
<p>The combo box will call an <code>onSearch</code> event when the user types a search term.
The application should use this to filter the options provided to the combo box.</p>
<p>You can handle this yourself and maintain a centralised state, or some hooks have been provided.</p>
<h2 id="usesearchsearcher--initialoptions-debounce-minlength-maxresults-"><code>useSearch(searcher, { initialOptions, debounce, minLength, maxResults })</code></h2>
<pre><code class="language-javascript"><span class="token keyword">function</span> <span class="token keyword">async</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">term</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
  url<span class="token punctuation">.</span>searchParams<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'query'</span><span class="token punctuation">,</span> term<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>filteredOptions<span class="token punctuation">,</span> onSearch<span class="token punctuation">,</span> busy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useSearch</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">{</span> initialOptions<span class="token punctuation">,</span> debounce<span class="token punctuation">,</span> minLength <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Use a custom search function. <code>async function (search: String): Array&lt;Object&gt;</code>.
The search function can be an async function. It should return an array
of search results. It can also return <code>null</code> which will keep the current set of results.</p>
<p>This will set <code>busy</code> to true while searching, optionally can debounce search results, and prevents out-of-sync async returns
from overwriting the results.</p>
<ul>
<li><code>initialOptions</code> (<code>Array</code>) Options to initially populate the search with</li>
<li><code>emptyOptions</code> (<code>Array</code>) Options to show if there is no search term</li>
<li><code>debounce</code> (<code>Number</code>) milliseconds to debounce the search </li>
<li><code>minLength</code> (<code>Number</code>) minimum number of characters to supply to make a search.</li>
<li><code>maxResults</code> (<code>Number</code>) limit the maximum results returned</li>
</ul>
<h2 id="usetokensearchoptions--index-tokenise-minlength-maxresults-"><code>useTokenSearch(options, { index, tokenise, minLength, maxResults })</code></h2>
<pre><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">[</span>filteredOptions<span class="token punctuation">,</span> onSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useTokenSearch</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Searches an array of options for matching words. This will split each option into words, and return any option where a word starts
with the search term.</p>
<p>By default it will search either strings, or <code>label</code> property if the options are objects.
Customise this by providing an index function with the signature <code>function (option: Object): Array&lt;String&gt;</code>.</p>
<p>The tokeniser can also be replaced. This is function with the signature <code>function (string: String): Array&lt;String&gt;</code></p>
<h2 id="useprefixsearchoptions--index-minlength-maxresults-"><code>usePrefixSearch(options, { index, minLength, maxResults })</code></h2>
<pre><code class="language-javascript"><span class="token keyword">const</span> <span class="token punctuation">[</span>filteredOptions<span class="token punctuation">,</span> onSearch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">usePrefixSearch</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Searches an array of options for a matching prefix. This will find options starting with the search term.</p>
<p>By default it will search either strings, or <code>label</code> property if the options are objects.
Customise this by providing an index function with the signature <code>function (option: Object): String</code>.</p>
</main><script src="/react-combo-boxes/render.be5c9c52.js"></script></body></html>